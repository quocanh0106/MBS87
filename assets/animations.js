function onIntersection(e,t){e.forEach((e,n)=>{if(e.isIntersecting){const i=e.target;i.classList.contains(SCROLL_ANIMATION_OFFSCREEN_CLASSNAME)&&(i.classList.remove(SCROLL_ANIMATION_OFFSCREEN_CLASSNAME),i.hasAttribute("data-cascade")&&i.setAttribute("style",`--animation-order: ${n};`)),t.unobserve(i)}else e.target.classList.add(SCROLL_ANIMATION_OFFSCREEN_CLASSNAME),e.target.classList.remove(SCROLL_ANIMATION_CANCEL_CLASSNAME)})}function initializeScrollAnimationTrigger(e=document,t=!1){const n=Array.from(e.getElementsByClassName(SCROLL_ANIMATION_TRIGGER_CLASSNAME));if(0===n.length)return;if(t)return void n.forEach(e=>{e.classList.add("scroll-trigger--design-mode")});const i=new IntersectionObserver(onIntersection,{rootMargin:"0px 0px -50px 0px"});n.forEach(e=>i.observe(e))}function initializeScrollZoomAnimationTrigger(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const e=Array.from(document.getElementsByClassName(SCROLL_ZOOM_IN_TRIGGER_CLASSNAME));if(0===e.length)return;const t=.002;e.forEach(e=>{let n=!1;const i=new IntersectionObserver(e=>{e.forEach(e=>{n=e.isIntersecting})});i.observe(e),e.style.setProperty("--zoom-in-ratio",1+t*percentageSeen(e)),window.addEventListener("scroll",throttle(()=>{n&&e.style.setProperty("--zoom-in-ratio",1+t*percentageSeen(e))}),{passive:!0})})}function percentageSeen(e){const t=window.innerHeight,n=window.scrollY,i=e.getBoundingClientRect().top+n,r=e.offsetHeight;if(i>n+t)return 0;if(i+r<n)return 100;const o=n+t-i;let s=o/((t+r)/100);return Math.round(s)}const SCROLL_ANIMATION_TRIGGER_CLASSNAME="scroll-trigger",SCROLL_ANIMATION_OFFSCREEN_CLASSNAME="scroll-trigger--offscreen",SCROLL_ZOOM_IN_TRIGGER_CLASSNAME="animate--zoom-in",SCROLL_ANIMATION_CANCEL_CLASSNAME="scroll-trigger--cancel";window.addEventListener("DOMContentLoaded",()=>{initializeScrollAnimationTrigger(),initializeScrollZoomAnimationTrigger()}),Shopify.designMode&&(document.addEventListener("shopify:section:load",e=>initializeScrollAnimationTrigger(e.target,!0)),document.addEventListener("shopify:section:reorder",()=>initializeScrollAnimationTrigger(document,!0)));